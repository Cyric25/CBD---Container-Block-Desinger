<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test - Verschachtelte Container</title>

    <!-- WordPress Dashicons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dashicons/0.9.0/dashicons.min.css">

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- Our unified CSS -->
    <link rel="stylesheet" href="assets/css/unified-frontend.css">

    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f1f1f1;
        }

        .test-container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .cbd-container {
            margin: 20px 0;
            position: relative;
        }

        .cbd-container-block {
            padding: 20px;
            border: 2px solid #ddd;
            border-radius: 6px;
            background: #fafafa;
        }

        .cbd-container-content {
            background: white;
            padding: 15px;
            border-radius: 4px;
            border: 1px solid #eee;
        }

        /* Unterschiedliche Farben f√ºr verschachtelte Container */
        .level-1 .cbd-container-block {
            border-color: #007cba;
            background: #e7f3ff;
        }

        .level-2 .cbd-container-block {
            border-color: #28a745;
            background: #e8f5e8;
        }

        .level-3 .cbd-container-block {
            border-color: #dc3545;
            background: #fdeaea;
        }

        h1, h2, h3 {
            color: #333;
        }

        .test-instructions {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 15px;
            border-radius: 6px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>Test: Verschachtelte Container-Bl√∂cke</h1>

        <div class="test-instructions">
            <h3>üß™ Test-Anweisungen:</h3>
            <ol>
                <li><strong>√Ñu√üerer Container (Blau):</strong> Klicken Sie auf das Men√º und dann "Einklappen"</li>
                <li><strong>Erwartetes Verhalten:</strong> Nur der blaue Container klappt ein, die gr√ºnen und roten bleiben unver√§ndert</li>
                <li><strong>Innere Container:</strong> Diese sollten unabh√§ngig funktionieren</li>
                <li><strong>Test alle Ebenen:</strong> Jeder Container sollte nur seinen eigenen Inhalt ein-/ausklappen</li>
            </ol>
        </div>

        <!-- LEVEL 1: √Ñu√üerster Container (BLAU) -->
        <div class="cbd-container level-1" id="cbd-container-outer">
            <!-- Selection Menu -->
            <div class="cbd-selection-menu">
                <button class="cbd-menu-toggle" type="button" aria-expanded="false">
                    <i class="dashicons dashicons-admin-generic"></i>
                </button>

                <div class="cbd-dropdown-menu">
                    <button class="cbd-dropdown-item cbd-collapse-toggle" type="button" aria-expanded="true" aria-controls="cbd-container-outer-content">
                        <i class="dashicons dashicons-arrow-up-alt2"></i>
                        <span>Einklappen</span>
                    </button>

                    <button class="cbd-dropdown-item cbd-copy-text" data-container-id="cbd-container-outer">
                        <i class="dashicons dashicons-clipboard"></i>
                        <span>Text kopieren</span>
                    </button>

                    <button class="cbd-dropdown-item cbd-screenshot" data-container-id="cbd-container-outer">
                        <i class="dashicons dashicons-camera"></i>
                        <span>Screenshot</span>
                    </button>
                </div>
            </div>

            <!-- Numbering -->
            <div class="cbd-container-number cbd-outside-number" data-number="1">1</div>

            <!-- Content Wrapper -->
            <div class="cbd-content" id="cbd-container-outer-content">
                <!-- Container Block -->
                <div class="cbd-container-block cbd-block-basic-container">
                    <!-- Block Header -->
                    <div class="cbd-block-header">
                        <span class="cbd-header-icon" style="color: #007cba">
                            <i class="dashicons dashicons-admin-home"></i>
                        </span>
                        <h3 class="cbd-block-title">üîµ LEVEL 1 - √Ñu√üerster Container (Blau)</h3>
                    </div>

                    <!-- Container Content -->
                    <div class="cbd-container-content">
                        <p>Dies ist der <strong>√§u√üerste Container</strong>. Wenn dieser eingeklappt wird, sollten die inneren Container <strong>NICHT</strong> mit eingeklappt werden.</p>

                        <!-- LEVEL 2: Mittlerer Container (GR√úN) -->
                        <div class="cbd-container level-2" id="cbd-container-middle">
                            <!-- Selection Menu -->
                            <div class="cbd-selection-menu">
                                <button class="cbd-menu-toggle" type="button" aria-expanded="false">
                                    <i class="dashicons dashicons-admin-generic"></i>
                                </button>

                                <div class="cbd-dropdown-menu">
                                    <button class="cbd-dropdown-item cbd-collapse-toggle" type="button" aria-expanded="true" aria-controls="cbd-container-middle-content">
                                        <i class="dashicons dashicons-arrow-up-alt2"></i>
                                        <span>Einklappen</span>
                                    </button>

                                    <button class="cbd-dropdown-item cbd-copy-text" data-container-id="cbd-container-middle">
                                        <i class="dashicons dashicons-clipboard"></i>
                                        <span>Text kopieren</span>
                                    </button>

                                    <button class="cbd-dropdown-item cbd-screenshot" data-container-id="cbd-container-middle">
                                        <i class="dashicons dashicons-camera"></i>
                                        <span>Screenshot</span>
                                    </button>
                                </div>
                            </div>

                            <!-- Numbering -->
                            <div class="cbd-container-number cbd-outside-number" data-number="2">2</div>

                            <!-- Content Wrapper -->
                            <div class="cbd-content" id="cbd-container-middle-content">
                                <!-- Container Block -->
                                <div class="cbd-container-block cbd-block-card-container">
                                    <!-- Block Header -->
                                    <div class="cbd-block-header">
                                        <span class="cbd-header-icon" style="color: #28a745">
                                            <i class="dashicons dashicons-admin-tools"></i>
                                        </span>
                                        <h3 class="cbd-block-title">üü¢ LEVEL 2 - Mittlerer Container (Gr√ºn)</h3>
                                    </div>

                                    <!-- Container Content -->
                                    <div class="cbd-container-content">
                                        <p>Dies ist der <strong>mittlere Container</strong>. Er sollte unabh√§ngig vom √§u√üeren Container funktionieren.</p>

                                        <!-- LEVEL 3: Innerster Container (ROT) -->
                                        <div class="cbd-container level-3" id="cbd-container-inner">
                                            <!-- Selection Menu -->
                                            <div class="cbd-selection-menu">
                                                <button class="cbd-menu-toggle" type="button" aria-expanded="false">
                                                    <i class="dashicons dashicons-admin-generic"></i>
                                                </button>

                                                <div class="cbd-dropdown-menu">
                                                    <button class="cbd-dropdown-item cbd-collapse-toggle" type="button" aria-expanded="true" aria-controls="cbd-container-inner-content">
                                                        <i class="dashicons dashicons-arrow-up-alt2"></i>
                                                        <span>Einklappen</span>
                                                    </button>

                                                    <button class="cbd-dropdown-item cbd-copy-text" data-container-id="cbd-container-inner">
                                                        <i class="dashicons dashicons-clipboard"></i>
                                                        <span>Text kopieren</span>
                                                    </button>

                                                    <button class="cbd-dropdown-item cbd-screenshot" data-container-id="cbd-container-inner">
                                                        <i class="dashicons dashicons-camera"></i>
                                                        <span>Screenshot</span>
                                                    </button>
                                                </div>
                                            </div>

                                            <!-- Numbering -->
                                            <div class="cbd-container-number cbd-outside-number" data-number="3">3</div>

                                            <!-- Content Wrapper -->
                                            <div class="cbd-content" id="cbd-container-inner-content">
                                                <!-- Container Block -->
                                                <div class="cbd-container-block cbd-block-hero-section">
                                                    <!-- Block Header -->
                                                    <div class="cbd-block-header">
                                                        <span class="cbd-header-icon" style="color: #dc3545">
                                                            <i class="dashicons dashicons-admin-settings"></i>
                                                        </span>
                                                        <h3 class="cbd-block-title">üî¥ LEVEL 3 - Innerster Container (Rot)</h3>
                                                    </div>

                                                    <!-- Container Content -->
                                                    <div class="cbd-container-content">
                                                        <p>Dies ist der <strong>innerste Container</strong>. Er sollte v√∂llig unabh√§ngig von den √§u√üeren Containern funktionieren.</p>

                                                        <ul>
                                                            <li>‚úÖ Eigenst√§ndige Collapse-Funktion</li>
                                                            <li>‚úÖ Eigenst√§ndige Copy-Funktion</li>
                                                            <li>‚úÖ Eigenst√§ndige Screenshot-Funktion</li>
                                                        </ul>

                                                        <p><strong>Test:</strong> Klappen Sie jeden Container einzeln ein und aus. Die anderen sollten unbeeinflusst bleiben!</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Ende LEVEL 3 -->

                                        <p style="margin-top: 15px;"><em>Zur√ºck im mittleren Container: Dieser Text sollte sichtbar bleiben, wenn nur der innerste Container eingeklappt wird.</em></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Ende LEVEL 2 -->

                        <p style="margin-top: 15px;"><em>Zur√ºck im √§u√üersten Container: Dieser Text sollte sichtbar bleiben, wenn nur die inneren Container eingeklappt werden.</em></p>

                        <div style="background: #f8f9fa; padding: 10px; border-radius: 4px; margin-top: 15px;">
                            <strong>üß™ Test-Szenarien:</strong>
                            <ol>
                                <li>Klappen Sie nur den roten Container ein ‚Üí Nur rot sollte sich √§ndern</li>
                                <li>Klappen Sie nur den gr√ºnen Container ein ‚Üí Nur gr√ºn sollte sich √§ndern (rot bleibt wie er ist)</li>
                                <li>Klappen Sie nur den blauen Container ein ‚Üí Nur blau sollte sich √§ndern (gr√ºn und rot bleiben wie sie sind)</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Ende LEVEL 1 -->

    </div>

    <!-- Load our unified frontend script -->
    <script src="assets/js/unified-frontend.js"></script>

    <!-- Load html2canvas for screenshot functionality -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</body>
</html>